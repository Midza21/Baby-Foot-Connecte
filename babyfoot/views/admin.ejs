<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="stylesheets/admin.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
</head>
<body>

    <nav class="navbar">
        <div class="container">
            <h1>Classement Baby-Foot</h1>
            <ul class="nav-links">
                <li><a href="#">Accueil</a></li>
                <li><a href="#">Classement</a></li>
                <li><a href="#">À propos</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
        </div>
    </nav>

    <div class="button-container">
        <button class="button">
          <svg
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 1024 1024"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"
            ></path>
          </svg>
        </button>
        <button class="button">
          <svg
            class="icon"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            viewBox="0 0 24 24"
            aria-hidden="true"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
            ></path>
          </svg>
        </button>
        <button class="button">
          <svg
            class="icon"
            stroke="currentColor"
            fill="currentColor"
            stroke-width="0"
            viewBox="0 0 24 24"
            height="1em"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12 2.5a5.5 5.5 0 0 1 3.096 10.047 9.005 9.005 0 0 1 5.9 8.181.75.75 0 1 1-1.499.044 7.5 7.5 0 0 0-14.993 0 .75.75 0 0 1-1.5-.045 9.005 9.005 0 0 1 5.9-8.18A5.5 5.5 0 0 1 12 2.5ZM8 8a4 4 0 1 0 8 0 4 4 0 0 0-8 0Z"
            ></path>
          </svg>
        </button>
      </div>
     
      <nav>
        <ul>
            <li>
                <a href="#">Utilisateur</a>
                <ul class="submenu">
                  <li><a href="utilisateur_supprimer" onclick="loadContent('utilisateur_supprimer')">Supprimer un utilsateur</a></li>
                  <li><a href="#">Modifier un utilsateur</a></li>
                  <li><a href="#">Voir les utilsateur</a></li>
                </ul>
              </li>
          <li>
            <a href="#">Partie</a>
            <ul class="submenu">
              <li><a href="#">Supprimer une partie</a></li>
              <li><a href="#">Modifier une partie</a></li>
              <li><a href="#">Voir les partie</a></li>
            </ul>
          </li>
          <li>
            <a href="#">Baby-Foot</a>
            <ul class="submenu">
                <li><a href="#">Supprimer un Baby-Foot</a></li>
                <li><a href="#">Modifier un Baby-Foot</a></li>
                <li><a href="#">Voir les Baby-Foot</a></li>
            </ul>
          </li>
        </ul>
      </nav>

      <br> 
      <div id="content">
        <!-- Contenu de la page chargée sera affiché ici -->
      </div>
</body>
</html>

<script>
 function loadContent(url) {
    // Empêcher le comportement par défaut du lien
    event.preventDefault();
  
    // Charger le contenu de la page cible dans la section de contenu
    fetch(url)
      .then(response => response.text())
      .then(data => {
        document.getElementById('content').innerHTML = data;
      })
      .catch(error => console.error('Erreur:', error));
  }


    async function deleteDevice() {
        const id = document.getElementById("idUtilisateur").value;
        console.log(id)
  console.log("ID du utilisateur à supprimer :", id);
  
  try {
    const response = await fetch(`/delete_user/${id}`, { // Utilisation de l'ID saisi par l'utilisateur dans l'URL de la requête
      method: "DELETE"
    });
    
    if (response.ok) {
      const deletedDevice = await response.json();
      console.log("Dispositif supprimé :", deletedDevice);
      alert("Dispositif supprimé avec succès !");
      window.location.href = "admin"; // Rediriger vers une autre page après la suppression
    } else {
      const errorMessage = await response.text();
      console.error("Erreur lors de la suppression du dispositif :", errorMessage);
      alert("Une erreur s'est produite lors de la suppression du dispositif. Veuillez réessayer plus tard.");
    }
  } catch (error) {
    console.error("Erreur lors de la suppression du dispositif :", error);
    alert("Une erreur s'est produite lors de la suppression du dispositif. Veuillez réessayer plus tard.");
  }
}
</script>